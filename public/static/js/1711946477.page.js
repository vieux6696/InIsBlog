import{E as t}from"./1711946477.element-plus.js";import{a6 as s,y as e}from"./1711946477.@vue.js";const n={__name:"page",setup(n){const a=s({last:null});e((async()=>{await l.refresh()}));const l={refresh:()=>{setTimeout((async()=>{await l.update()&&t({type:"success",title:"主题更新完成！",duration:0,dangerouslyUseHTMLString:!0,message:'<div class="d-flex">\n                        <span class="me-2">刷新页面体验新功能？</span>\n                        <button onclick="location.reload()" type="button" class="btn btn-outline-info btn-sm rounded-pill py-0">刷 新</button>\n                    </so>',position:"bottom-right"}),await l.refresh()}),10*inis.lazy_time*3)},html:async()=>{let t=[],s=null;const e=/<script.*src=["'](?<src>[^"']+)/gm,n=await fetch("/?unix="+Date.now()).then((t=>t.text()));for(e.lastIndex=0;null!==(s=e.exec(n));)t.push(s.groups.src);return n},update:async()=>{const t=await l.html();if(!a.last)return a.last=t,!1;let s=!1;a.last.length!==t.length&&(s=!0);for(let e=0;e<a.last.length;e++)if(a.last[e]!==t[e]){s=!0;break}return a.last=t,s}};return(t,s)=>null}};export{n as _};
